// <auto-generated />

namespace MyTelegram.Schema.Auth;

/// <summary>
/// Binds a temporary authorization key <code>temp_auth_key_id</code> to the permanent authorization key <code>perm_auth_key_id</code>. Each permanent key may only be bound to one temporary key at a time, binding a new temporary key overwrites the previous one.For more information, see <a href="https://corefork.telegram.org/api/pfs">Perfect Forward Secrecy</a>.
/// <para><c>Possible errors</c></para>
/// <para><c>  </c></para>
/// <para><c>nonce long Random long</c></para>
/// <para><c>temp_auth_key_id long Temporary auth_key_id</c></para>
/// <para><c>perm_auth_key_id long Permanent auth_key_id to bind to</c></para>
/// <para><c>temp_session_id long Session id, which will be used to invoke <strong>auth.bindTempAuthKey</strong> method</c></para>
/// <para><c>expires_at int Unix timestamp to invalidate temporary key </c></para>
/// <para>See <a href="https://corefork.telegram.org/method/auth.bindTempAuthKey" /></para>
/// </summary>
/// <remarks>
/// Access: [User ✔] [Bot ✔] [Anonymous ✔]
/// </remarks>
[TlObject(0xcdd42a05)]
public sealed partial class RequestBindTempAuthKey : IRequest<IBool>
{
    public uint ConstructorId => 0xcdd42a05;

    /// <summary>
    /// Permanent auth_key_id to bind to
    /// </summary>
    public long PermAuthKeyId { get; set; }

    /// <summary>
    /// Random long from <a href="https://corefork.telegram.org/#binding-message-contents">Binding message contents</a>
    /// </summary>
    public long Nonce { get; set; }

    /// <summary>
    /// Unix timestamp to invalidate temporary key, see <a href="https://corefork.telegram.org/#binding-message-contents">Binding message contents</a>
    /// </summary>
    public int ExpiresAt { get; set; }

    /// <summary>
    /// See <a href="https://corefork.telegram.org/#generating-encrypted-message">Generating encrypted_message</a>
    /// </summary>
    public ReadOnlyMemory<byte> EncryptedMessage { get; set; }

    public void ComputeFlag()
    {
    }

    public void Serialize(IBufferWriter<byte> writer)
    {
        ComputeFlag();
        writer.Write(ConstructorId);
        writer.Write(PermAuthKeyId);
        writer.Write(Nonce);
        writer.Write(ExpiresAt);
        writer.Write(EncryptedMessage);
    }

    public void Deserialize(ref ReadOnlyMemory<byte> buffer)
    {
        PermAuthKeyId = buffer.ReadInt64();
        Nonce = buffer.ReadInt64();
        ExpiresAt = buffer.ReadInt32();
        EncryptedMessage = buffer.ReadBytes();
    }
}
